<?php

class Registration_model extends CI_Model
{
    //Kollar s책 att anv채ndaren inte finns
    //och l채gger in i databasen.
  function insert_to_db($array)
  {
        
        if(! $this->is_name_taken($array['username']))
        {
            $this->load->helper('security');
            $array['password'] = do_hash($array['password']);
            $this->db->insert('users',$array);

       }
            $this->load->view('login_view');    
   }
   
   //Kollar om ett specifikt anv채ndarnamn finns i databasen
   function is_name_taken($username)
   {
       $query = $this->db->get_where('users', array('name' => $username));
       return ($query->num_rows() > 0);
    }
    
    
}